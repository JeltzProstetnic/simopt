<Window x:Class="MatthiasToolbox.Player.Window1"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	Title="MatthiasToolbox.Player" 
    Height="406" Width="1052" Icon="Images/093.png" AllowsTransparency="True" WindowStyle="None" 
    x:Name="MainWindow"
    Loaded="Window_Loaded"
    KeyDown="MainWindow_KeyDown" KeyUp="MainWindow_KeyUp">

    <Window.Resources>

    </Window.Resources>

    <Window.TaskbarItemInfo>
        <TaskbarItemInfo Description="Matthias Media Player" ProgressState="Normal">
            <TaskbarItemInfo.ThumbButtonInfos>
                <ThumbButtonInfo />
            </TaskbarItemInfo.ThumbButtonInfos>
        </TaskbarItemInfo>
    </Window.TaskbarItemInfo>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="30*"/>
            <ColumnDefinition Width="304*"/>
            <ColumnDefinition Width="337*" />
            <ColumnDefinition Width="335*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <StackPanel Grid.Column="4" Orientation="Horizontal" VerticalAlignment="Center">
            <Button Name="btnMinimize" Click="btnMinimize_Click" Background="{x:Null}" BorderThickness="0" BorderBrush="{x:Null}">_</Button>
            <Button Name="btnClose" Click="btnClose_Click" BorderBrush="{x:Null}" BorderThickness="0" Background="{x:Null}">X</Button>
        </StackPanel>
        <StackPanel Grid.ColumnSpan="4" Orientation="Horizontal" MouseDown="ToolBarTray_MouseDown" 
                    IsHitTestVisible="True" Background="Transparent">
            <ToolBarTray Grid.ColumnSpan="4">
                <ToolBar>
                    <Button Name="btnAdd" Click="btnAdd_Click">Add</Button>
                    <Button Name="btnPrev" Click="btnPrev_Click">Prev</Button>
                    <Button Name="btnPlay" Click="btnPlay_Click">Play</Button>
                    <Button Name="btnPause" Click="btnPause_Click">Pause</Button>
                    <Button Name="btnSkip" Click="btnSkip_Click">Skip</Button>
                    <Button Name="btnSkipNoCount" Click="btnSkipNoCount_Click">Skip w/o count</Button>
                    <Button Name="btnSkipAndDelete" Click="btnSkipAndDelete_Click">Del</Button>
                    <Button Name="btnRandomize" Click="btnRandomize_Click">Shuffle</Button>
                    <CheckBox Name="btnRandomized" IsChecked="{Binding ElementName=MainWindow, Path=IsRandom, 
                    Mode=TwoWay}">Random</CheckBox>
                    <Button Name="btnSearch" Click="btnSearch_Click">Find</Button>
                    <Button Name="btnOptions" Click="btnOptions_Click">Options</Button>

                    <Button Name="btnResetSpeed" Click="btnResetSpeed_Click">Reset speed</Button>
                    <Slider Name="sliderOpacity" Width="150" Maximum="100" LargeChange="10" Minimum="50" 
                        SmallChange="1" TickFrequency="10" TickPlacement="BottomRight" 
                        ValueChanged="SliderOpacity_ValueChanged" Value="90"/>
                </ToolBar>
            </ToolBarTray>
            <TextBlock IsHitTestVisible="False" Text="{Binding ElementName=MainWindow, 
                    Path=CurrentClip.Label}" VerticalAlignment="Center"/>
        </StackPanel>

        <MediaElement Name="currentMedia" MediaEnded="currentMedia_MediaEnded" Grid.ColumnSpan="3" 
                      Margin="0,0,336,0"></MediaElement>

        <!--<TreeView Name="trvPlayList" Grid.Row="2" Margin="0,0,336,0" Grid.Column="1" Grid.ColumnSpan="2">
        </TreeView>-->
        <ListView Name="livMediaLibrary" ItemsSource="{Binding ElementName=MainWindow, Path=Library.Clips}"
                  Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2"></ListView>
        <ListView Name="livPlayList" ItemsSource="{Binding Path=CurrentSongs}"
                  Grid.Row="2" Grid.Column="2" Margin="1,0,0,0" VirtualizingStackPanel.IsVirtualizing="True" KeyDown="livPlayList_KeyDown" 
                  KeyUp="livPlayList_KeyUp">
            <ListView.ItemContainerStyle>
                <Style TargetType="{x:Type ListViewItem}">
                    <EventSetter Event="MouseDoubleClick" Handler="livPlayList_DoubleClick"/>
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>
        <ListView Name="livPlayed" ItemsSource="{Binding Path=PlayedClips}" 
                  Grid.Row="2" Grid.Column="3"></ListView>

        <Slider Grid.Row="2" Name="speedRatioSlider" ToolTip="{Binding ElementName=speedRatioSlider, Path=Value}" 
                PreviewMouseUp="ChangeMediaSpeedRatio" Value="1" Minimum="0.1" Maximum="3" LargeChange="0.25" 
                TickFrequency="0.5" Orientation="Vertical" />

        <Slider Grid.Column="4" Grid.Row="2" Name="volumeSlider" 
                ToolTip="{Binding ElementName=volumeSlider, Path=Value}"
                Minimum="0" Maximum="1" Value="{Binding ElementName=MainWindow, Path=Volume, Mode=TwoWay}" Orientation="Vertical" Height="308" 
                VerticalAlignment="Bottom" />

        <Grid Grid.Row="3" Grid.ColumnSpan="4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Slider Name="timelineSlider" Margin="5" HorizontalAlignment="Stretch" 
                    PreviewMouseUp="timelineSlider_PreviewMouseUp" 
                    PreviewMouseDown="timelineSlider_PreviewMouseDown" />
            <TextBlock Grid.Column="1" Name="textBlockDuration" />
        </Grid>

        <ResizeGrip Grid.Column="4" Grid.Row="3"></ResizeGrip>
    </Grid>
</Window>